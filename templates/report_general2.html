<!DOCTYPE html>
<html lang="en">

<head>
  <title>CS348 Project - Product Report</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="templates/css/index.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .wrapper {
      width: 80%;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 10px;
    }

    .wrapper h1 {
      font-size: 25px;
      text-align: center;
      color: #C71585;
      margin-bottom: 20px;
    }
    .btn-order {
      background-color: #C71585;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-order:hover {
      background-color: #AB237E;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="wrapper">
      <h1>Product Report</h1>

      

      <!-- Display Stores -->
      {% if stores %}
      <div class="mb-4">
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('stores-table-body', 'asc')">Order Stores Alphabetically Ascending</button>
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('stores-table-body', 'desc')">Order Stores Alphabetically Descending</button>
      </div>
      
      <div class="mb-4">
        <h2>Stores</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Store Name</th>
              <th>City</th>
              <th>Address</th>
              <th>Number of Machines</th>
            </tr>
          </thead>
          <tbody id="stores-table-body">
            {% for store in stores %}
            <tr>
              <td>{{ store['Store Name'] }}</td>
              <td>{{ store['City'] }}</td>
              <td>{{ store['Address'] }}</td>
              <td>{{ store['Number of Machines'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}

      <!-- Display Store Availability -->
      {% if stores_availability %}
      <div class="mb-4">
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('availability-table-body', 'asc')">Order Availability Alphabetically Ascending</button>
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('availability-table-body', 'desc')">Order Availability Alphabetically Descending</button>
      </div>
      <div class="mb-4">
        <h2>Store Availability</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Store Name</th>
              <th>Machine Type</th>
              <th>Availability</th>
            </tr>
          </thead>
          <tbody id="availability-table-body">
            {% for store_availability in stores_availability %}
            <tr>
              <td>{{ store_availability['Store Name'] }}</td>
              <td>{{ store_availability['Machine Type'] }}</td>
              <td>{{ store_availability['Availability'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}

      <!-- Display Vending Machines -->
      {% if vm %}
      <div class="mb-4">
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('vending-machines-table-body', 'asc')">Order Vending Machines Alphabetically Ascending</button>
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('vending-machines-table-body', 'desc')">Order Vending Machines Alphabetically Descending</button>
      </div>
      <div class="mb-4">
        <h2>Vending Machines</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Machine Type</th>
              <th>Average Number of Items</th>
              <th>Average Maximum Capacity</th>
              <th>Number of Working Machines</th>
            </tr>
          </thead>
          <tbody id="vending-machines-table-body">
            {% for vm_info in vm %}
            <tr>
              <td>{{ vm_info['Machine Type'] }}</td>
              <td>{{ vm_info['Average Number of Items'] }}</td>
              <td>{{ vm_info['Average Maximum Capacity'] }}</td>
              <td>{{ vm_info['Number of Working Machines'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}

      <!-- Display Products -->
      {% if products %}
      <div class="mb-4">
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('products-table-body', 'asc')">Order Products Alphabetically Ascending</button>
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('products-table-body', 'desc')">Order Products Alphabetically Descending</button>
      </div>
     
      <div class="mb-4">
        <h2>Products</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Product Name</th>
              <th>Average Price</th>
              <th>Average Quantity</th>
            </tr>
          </thead>
          <tbody id="products-table-body">
            {% for product in products %}
            <tr>
              <td>{{ product['Product Name'] }}</td>
              <td>{{ product['Average Price'] }}</td>
              <td>{{ product['Average Quantity'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}

      <!-- Display Employees -->
      {% if employees %}
      <div class="mb-4">
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('employees-table-body', 'asc')">Order Employees Alphabetically Ascending</button>
        <button class="btn btn-primary btn-order" onclick="orderAlphabetically('employees-table-body', 'desc')">Order Employees Alphabetically Descending</button>
      </div>
      <div class="mb-4">
        <h2>Employees</h2>
        <table class="table">
          <thead>
            <tr>
             
              <th>Name</th>
              <th>ID</th>
              <th>Address</th>
              <th>Phone Number</th>
              <th>Store Name</th>
              <th>Number of Workers in Store</th>
            </tr>
          </thead>
          <tbody id="employees-table-body">
            {% for employee in employees %}
            <tr>
              
              <td>{{ employee['Name'] }}</td>
               <td>{{ employee['ID'] }}</td>
              <td>{{ employee['Address'] }}</td>
              <td>{{ employee['Phone Number'] }}</td>
              <td>{{ employee['Store Name'] }}</td>
              <td>{{ employee['Number of Workers in Store'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
  </div>

  <script>
    function orderAlphabetically(tableId, order) {
      const tableBody = document.getElementById(tableId);
      const rows = Array.from(tableBody.querySelectorAll('tr'));
      rows.sort((a, b) => {
        const aValue = a.cells[0].textContent.trim().toLowerCase();
        const bValue = b.cells[0].textContent.trim().toLowerCase();
        if (order === 'asc') {
          return aValue.localeCompare(bValue);
        } else {
          return bValue.localeCompare(aValue);
        }
      });
      tableBody.innerHTML = '';
      rows.forEach(row => tableBody.appendChild(row));
    }
  </script>

</body>

</html>
